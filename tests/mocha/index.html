<!doctype html>
<html>
  <head>
      <meta charset='UTF-8' />
      <meta http-equiv='content-type' content='text/html; charset=utf-8' />
      <title>DS Mocha Test Runner</title>

      <!-- mocha and company -->
      <script src='../../node_modules/chai/chai.js'></script>
      <script src='../../node_modules/mocha/mocha.js'></script>
      <link rel="stylesheet" href="../../node_modules/mocha/mocha.css" />

      <script type="text/javascript">
        mocha.setup('bdd');
        assert = chai.assert;
      </script>

      <!-- Drupal & third-party libs -->
      <script src='../../lib/themes/dosomething/paraneue_dosomething/dist/lib.js'></script>
      <script src='../../html/misc/drupal.js'></script>

      <!-- mocked Drupal.Settings object -->
      <script type="text/javascript">
        jQuery.extend(Drupal.settings, {
          "dosomethingSearch": {
            "solrURL": "http://search.dosomething.org/solr/",
            "collection": "collection1"
          }
        });
      </script>

      <!-- DoSomething app code -->
      <script src='../../lib/themes/dosomething/paraneue_dosomething/dist/app.js'></script>
  </head>
  <body>
      <div id="mocha"></div>

      <!-- Add test files here! -->
      <script src='validation.js'></script>

      <script type="text/javascript">
        jQuery(document).ready(function() {
          if(window.mochaPhantomJS) {
            mochaPhantomJS.run();
          } else {
            mocha.run();
          }
        });
      </script>
  </body>
</html>
